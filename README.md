# üöÄ URL Checker

–ü—Ä–æ—Å—Ç–æ–π HTTP API-—Å–µ—Ä–≤–∏—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–æ–≤.  
–°–µ—Ä–≤–∏—Å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç URL –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### üîπ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.21+
- PostgreSQL 14+
- –°–æ–∑–¥–∞–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

---

## ‚ñ∂ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL  
2. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö  
3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É:

```bash
psql -U postgres -d your_db -f schema.sql
```
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
export DATABASE_DSN="postgres://user:password@localhost:5432/your_db?sslmode=disable"
export PORT=8080
```
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
cd cmd/api
go run main.go
```
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
`http://localhost:8080`

---

## üì° API Endpoints

### üîπ –†–∞–±–æ—Ç–∞ —Å URL (Targets)

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö URL
`GET /targets`

#### –ü–æ–ª—É—á–∏—Ç—å URL –ø–æ ID
`GET /targets/{id}`

#### –î–æ–±–∞–≤–∏—Ç—å URL
`POST /targets`

–ü—Ä–∏–º–µ—Ä body:
```json
{
  "url": "https://example.com",
  "interval_sec": 10,
  "timeout_ms": 1000,
  "active": true
}
```

### –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã URL
`PATCH /targets/{id}`

–ü—Ä–∏–º–µ—Ä body:
```
{
  "interval_sec": 60,
  "timeout_ms": 2000
}
```

### –£–¥–∞–ª–∏—Ç—å URL –ø–æ ID
`DELETE /targets/{id}`

### –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ URL
`GET /targets/active`

### üîπ –†–∞–±–æ—Ç–∞ —Å Checks

### –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ ID
`GET /targets/{id}/status`

### –ü–æ–ª—É—á–∏—Ç—å 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ ID
`GET /targets/{id}/checks`